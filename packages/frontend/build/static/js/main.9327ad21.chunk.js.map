{"version":3,"sources":["../Button.ts","../Input.ts","../index.tsx","../App.tsx","../Lobby.tsx","../Welcome.tsx","../reportWebVitals.ts","../GlobalStyles.ts"],"names":["Button","button","Input","input","render","StrictMode","document","getElementById","Lobby","lazy","Welcome","StyledApp","div","params","Object","fromEntries","window","location","search","replace","split","map","param","filter","key","console","debug","useParams","RoomCode","Name","Suspense","fallback","roomCode","name","LobbyComponent","sendMessage","useState","message","setMessage","value","onChange","e","target","placeholder","disabled","onClick","ws","url","WebSocket","closeWs","readyState","OPEN","close","addEventListener","onbeforeunload","onclose","event","onerror","error","onmessage","log","onopen","useWebSocket","host","useWebSocketUrl","send","setRoomCode","setName","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createGlobalStyle"],"mappings":"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","file":"static/js/main.9327ad21.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Button = styled.button`\n  padding: 10px 20px;\n  margin: 5px 0px;\n  font-size: large;\n  display: block;\n  border: 1px solid lightblue;\n  border-radius: 50px;\n`\n","import styled from 'styled-components'\n\nexport const Input = styled.input`\n  padding: 10px 20px;\n  margin: 5px 0px;\n  font-size: large;\n  display: block;\n  border: 1px solid lightblue;\n  border-radius: 50px;\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\nimport reportWebVitals from './reportWebVitals'\nimport GlobalStyles from './theme/GlobalStyles'\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyles />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Lobby = React.lazy(() => import('./Lobby'))\nconst Welcome = React.lazy(() => import('./Welcome'))\n\nconst StyledApp = styled.div`\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: calc(10px + 2vmin);\n  color: white;\n`\n\nconst useParams = () => {\n  const params = Object.fromEntries(\n    window.location.search\n      .replace('?', '')\n      .split('&')\n      .map((param) => param.split('='))\n      .filter(([key, value]) => key)\n  )\n  console.debug('Params:', params)\n  return params\n}\n\nconst App = () => {\n  const { RoomCode, Name } = useParams()\n  return (\n    <StyledApp>\n      <React.Suspense fallback={<>Loading...</>}>\n        {(!RoomCode || !Name) && <Welcome />}\n        {RoomCode && Name && <Lobby roomCode={RoomCode} name={Name} />}\n      </React.Suspense>\n    </StyledApp>\n  )\n}\n\nexport default App\n","import React from 'react'\n\nimport { Button } from './Button'\nimport { Input } from './Input'\n\nconst LobbyComponent: React.FC<{ sendMessage: (message: string) => boolean }> =\n  ({ sendMessage }) => {\n    const [message, setMessage] = React.useState<string>(\n      'Hello WS, I have connected.'\n    )\n    return (\n      <>\n        <Input\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          placeholder=\"Enter message\"\n        />\n        <Button\n          disabled={!message}\n          onClick={() => {\n            const success = sendMessage(message)\n            if (success) {\n              console.debug('Message sent.')\n              setMessage('')\n            }\n          }}\n        >\n          Send\n        </Button>\n      </>\n    )\n  }\n\nconst useWebSocket = (url: string): WebSocket | undefined => {\n  try {\n    const ws = new WebSocket(url)\n\n    const closeWs = () => {\n      if (ws.readyState === WebSocket.OPEN) {\n        ws.close()\n      }\n    }\n    window.addEventListener('unload', closeWs)\n    window.onbeforeunload = closeWs\n\n    ws.onclose = (event) => console.debug('onclose', event)\n    ws.onerror = (event) => console.error('onerror', event)\n    ws.onmessage = (event) => console.log('onmessage', event)\n    ws.onopen = (event) => console.debug('onopen', event)\n    return ws\n  } catch (e) {\n    console.error(e)\n  }\n}\n\nconst useWebSocketUrl = (name: string, roomCode: string) => {\n  const url = `wss://${window.location.host}/ws/?RoomCode=${roomCode}&Name=${name}`\n  console.debug('WS URL:', url)\n  return url\n}\n\nconst LobbyContainer: React.FC<{ name: string; roomCode: string }> = ({\n  name,\n  roomCode,\n}) => {\n  const url = useWebSocketUrl(name, roomCode)\n  const ws = useWebSocket(url)\n  return (\n    <LobbyComponent\n      sendMessage={(message) => {\n        if (message && ws && ws?.readyState === WebSocket.OPEN) {\n          try {\n            ws.send(message)\n            return true\n          } catch (e) {\n            console.error('Can not send message. Error: ', e)\n          }\n        }\n        return false\n      }}\n    />\n  )\n}\n\nexport default LobbyContainer\n","import React, { useState } from 'react'\n\nimport { Button } from './Button'\nimport { Input } from './Input'\n\nconst Welcome = () => {\n  const [roomCode, setRoomCode] = useState<string>()\n  const [name, setName] = useState<string>()\n  return (\n    <>\n      <Input\n        onChange={(e) => setRoomCode(e.target.value)}\n        placeholder=\"Enter room code\"\n        value={roomCode}\n      />\n      <Input\n        onChange={(e) => setName(e.target.value)}\n        placeholder=\"Enter name\"\n        value={name}\n      />\n      <Button\n        disabled={!roomCode || !name}\n        onClick={() => {\n          if (name && roomCode) {\n            document.location.search = `?RoomCode=${roomCode}&Name=${name}`\n          }\n        }}\n      >\n        Join\n      </Button>\n    </>\n  )\n}\n\nexport default Welcome\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { createGlobalStyle } from 'styled-components'\n\nexport default createGlobalStyle`\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`\n"],"sourceRoot":""}